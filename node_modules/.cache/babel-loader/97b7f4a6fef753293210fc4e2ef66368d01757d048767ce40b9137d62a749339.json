{"ast":null,"code":"class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n  _request(url, options) {\n    return fetch(`${this.baseUrl}${url}`, options).then(this._getResponseData);\n  }\n  getInitialCards() {\n    return this._request('/cards', {\n      headers: this.headers\n    });\n  }\n  getUserInfo() {\n    return this._request('/users/me', {\n      headers: this.headers\n    });\n  }\n  editAvatar(link) {\n    return this._request('/users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    });\n  }\n  setUserInfo(formValues) {\n    return this._request('/users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: formValues.name,\n        about: formValues.about\n      })\n    });\n  }\n  setCard(formValues) {\n    return this._request('/cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: formValues.title,\n        link: formValues.link\n      })\n    });\n  }\n  deleteCard(card) {\n    return this._request(`/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    });\n  }\n  setCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'PUT',\n      headers: this.headers\n    });\n  }\n  deleteCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'DELETE',\n      headers: this.headers\n    });\n  }\n}\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-52',\n  headers: {\n    authorization: 'dfaf14aa-f273-4bf7-9d80-4b98802a6803',\n    'Content-Type': 'application/json'\n  }\n});\nexport { api };","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","_getResponseData","res","ok","json","Promise","reject","status","_request","url","fetch","then","getInitialCards","getUserInfo","editAvatar","link","method","body","JSON","stringify","avatar","setUserInfo","formValues","name","about","setCard","title","deleteCard","card","_id","setCardLike","deleteCardLike","api","authorization"],"sources":["/Users/sergejlozuk/Documents/develop/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl\n    this.headers = options.headers\n  }\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(`Ошибка ${res.status}`)\n  }\n  _request(url, options) {\n    return fetch(`${this.baseUrl}${url}`, options)\n    .then(this._getResponseData)\n  }\n  getInitialCards() {\n    return this._request('/cards', {\n      headers: this.headers,\n    })\n  }\n  getUserInfo() {\n    return this._request('/users/me', {\n      headers: this.headers,\n    })\n  }\n  editAvatar(link) {\n    return this._request('/users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    })\n  }\n  setUserInfo(formValues) {\n    return this._request('/users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: formValues.name,\n        about: formValues.about,\n      }),\n    })\n  }\n  setCard(formValues) {\n    return this._request('/cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: formValues.title,\n        link: formValues.link,\n      }),\n    })\n  }\n  deleteCard(card) {\n    return this._request(`/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n  }\n  setCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n  }\n  deleteCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-52',\n  headers: {\n    authorization: 'dfaf14aa-f273-4bf7-9d80-4b98802a6803',\n    'Content-Type': 'application/json',\n  },\n})\nexport { api }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}