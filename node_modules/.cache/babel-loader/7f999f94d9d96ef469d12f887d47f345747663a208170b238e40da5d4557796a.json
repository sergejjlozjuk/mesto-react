{"ast":null,"code":"import _classCallCheck from\"/Users/sergejlozuk/Documents/develop/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sergejlozuk/Documents/develop/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.baseUrl=options.baseUrl;this.headers=options.headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"_request\",value:function _request(url,options){return fetch(\"\".concat(this.baseUrl).concat(url),options).then(this._getResponseData);}},{key:\"getInitialCards\",value:function getInitialCards(){return this._request('/cards',{headers:this.headers});}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request('/users/me',{headers:this.headers});}},{key:\"editAvatar\",value:function editAvatar(link){return this._request('/users/me/avatar',{method:'PATCH',headers:this.headers,body:JSON.stringify({avatar:link})});}},{key:\"setUserInfo\",value:function setUserInfo(formValues){return this._request('/users/me',{method:'PATCH',headers:this.headers,body:JSON.stringify({name:formValues.name,about:formValues.about})});}},{key:\"setCard\",value:function setCard(_ref){var title=_ref.title,link=_ref.link;return this._request('/cards',{method:'POST',headers:this.headers,body:JSON.stringify({name:title,link:link})});}},{key:\"deleteCard\",value:function deleteCard(card){return this._request(\"/cards/\".concat(card._id),{method:'DELETE',headers:this.headers});}},{key:\"setCardLike\",value:function setCardLike(card){return this._request(\"/cards/\".concat(card._id,\"/likes\"),{method:'PUT',headers:this.headers});}},{key:\"deleteCardLike\",value:function deleteCardLike(card){return this._request(\"/cards/\".concat(card._id,\"/likes\"),{method:'DELETE',headers:this.headers});}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-52',headers:{authorization:'dfaf14aa-f273-4bf7-9d80-4b98802a6803','Content-Type':'application/json'}});export{api};","map":{"version":3,"names":["Api","options","baseUrl","headers","res","ok","json","Promise","reject","status","url","fetch","then","_getResponseData","_request","link","method","body","JSON","stringify","avatar","formValues","name","about","title","card","_id","api","authorization"],"sources":["/Users/sergejlozuk/Documents/develop/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl\n    this.headers = options.headers\n  }\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(`Ошибка ${res.status}`)\n  }\n  _request(url, options) {\n    return fetch(`${this.baseUrl}${url}`, options).then(this._getResponseData)\n  }\n  getInitialCards() {\n    return this._request('/cards', {\n      headers: this.headers,\n    })\n  }\n  getUserInfo() {\n    return this._request('/users/me', {\n      headers: this.headers,\n    })\n  }\n  editAvatar(link) {\n    return this._request('/users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    })\n  }\n  setUserInfo(formValues) {\n    return this._request('/users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: formValues.name,\n        about: formValues.about,\n      }),\n    })\n  }\n  setCard({ title, link }) {\n    return this._request('/cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: title,\n        link: link,\n      }),\n    })\n  }\n  deleteCard(card) {\n    return this._request(`/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n  }\n  setCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n  }\n  deleteCardLike(card) {\n    return this._request(`/cards/${card._id}/likes`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-52',\n  headers: {\n    authorization: 'dfaf14aa-f273-4bf7-9d80-4b98802a6803',\n    'Content-Type': 'application/json',\n  },\n})\nexport { api }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}